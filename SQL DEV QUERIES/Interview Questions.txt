Basics of Oracle SQL

1. What is Oracle SQL?

Answer: Oracle SQL is a standard language for accessing and manipulating databases in Oracle Database.

2. What is PL/SQL?

Answer: PL/SQL (Procedural Language/SQL) is Oracle's procedural extension to SQL, allowing procedural constructs like loops and conditions.

3. What are the different types of SQL statements?

Answer: DDL (Data Definition Language), DML (Data Manipulation Language), DCL (Data Control Language), and TCL (Transaction Control Language).

4. How do you retrieve unique records from a table?

Answer: Use the DISTINCT keyword.

SELECT DISTINCT column_name FROM table_name;

5. What is a primary key?

Answer: A primary key uniquely identifies each record in a table.

6. How do you create a table in Oracle?

Answer:

CREATE TABLE employees (
  employee_id NUMBER PRIMARY KEY,
  first_name VARCHAR2(50),
  last_name VARCHAR2(50),
  hire_date DATE
);

7. What is a foreign key?

Answer: A foreign key is a column or set of columns that refer to the primary key in another table.

8. How do you join two tables?

Answer: Using JOIN clause.

SELECT a.column1, b.column2
FROM table1 a
JOIN table2 b ON a.id = b.id;

9. What are the types of joins in Oracle?

Answer: INNER JOIN, LEFT OUTER JOIN, RIGHT OUTER JOIN, FULL OUTER JOIN, CROSS JOIN.

10. How do you write a subquery?

Answer:

SELECT employee_id, first_name
FROM employees
WHERE department_id = (
  SELECT department_id FROM departments WHERE department_name = 'Sales'
);

11. What is the difference between CHAR and VARCHAR2?

Answer: CHAR is fixed length; VARCHAR2 is variable length.

12. What is a sequence?

Answer: A sequence generates unique numeric values.

13. How do you create a sequence?

Answer:

CREATE SEQUENCE emp_seq START WITH 1 INCREMENT BY 1;

14. How do you use a sequence in an insert?

Answer:

INSERT INTO employees (employee_id, first_name) VALUES (emp_seq.NEXTVAL, 'John');

15. What is a view?

Answer: A virtual table based on a SQL query.

16. How do you create a view?

Answer:

CREATE VIEW emp_view AS SELECT first_name, last_name FROM employees;

17. What is the difference between UNION and UNION ALL?

Answer: UNION removes duplicates; UNION ALL includes duplicates.

18. How do you handle NULL values in SQL?

Answer: Use IS NULL or NVL function.

19. What is the NVL function?

Answer: Replaces NULL with a specified value.

SELECT NVL(commission_pct, 0) FROM employees;

20. What is a transaction?

Answer: A unit of work that is either fully completed or fully failed.

21. How do you control transactions?

Answer: Using COMMIT, ROLLBACK, and SAVEPOINT.

COMMIT;
ROLLBACK;
SAVEPOINT sp1;

Intermediate Oracle SQL and PL/SQL

22. What is a cursor in PL/SQL?

Answer: A cursor is a pointer to the context area which stores the result set of a query.

23. What are implicit and explicit cursors?

Answer: Implicit cursors are automatically created by Oracle for single-row queries. Explicit cursors are defined by the programmer for multi-row queries.

24. How do you declare a cursor?

Answer:

DECLARE
  CURSOR emp_cursor IS SELECT employee_id, first_name FROM employees;
BEGIN
  -- cursor operations
END;

25. What is exception handling in PL/SQL?

Answer: It is a mechanism to handle runtime errors.

26. How do you handle exceptions?

Answer: Using EXCEPTION block.

BEGIN
  -- code
EXCEPTION
  WHEN NO_DATA_FOUND THEN
    DBMS_OUTPUT.PUT_LINE('No data found');
END;

27. What is a stored procedure?

Answer: A stored procedure is a named PL/SQL block stored in the database.

28. How do you create a stored procedure?

Answer:

CREATE OR REPLACE PROCEDURE greet_user IS
BEGIN
  DBMS_OUTPUT.PUT_LINE('Hello, User!');
END;

29. What is a function in PL/SQL?

Answer: A function returns a single value and can be used in SQL statements.

30. How do you create a function?

Answer:

CREATE OR REPLACE FUNCTION get_salary(emp_id NUMBER) RETURN NUMBER IS
  salary NUMBER;
BEGIN
  SELECT salary INTO salary FROM employees WHERE employee_id = emp_id;
  RETURN salary;
END;

31. What is a trigger?

Answer: A trigger is a PL/SQL block that automatically executes in response to certain events on a table or view.

32. How do you create a trigger?

Answer:

CREATE OR REPLACE TRIGGER trg_before_insert
BEFORE INSERT ON employees
FOR EACH ROW
BEGIN
  :NEW.hire_date := SYSDATE;
END;

33. What are the types of triggers?

Answer: BEFORE, AFTER, INSTEAD OF triggers.

34. What is a package in PL/SQL?

Answer: A package is a group of related procedures, functions, variables, and other PL/SQL constructs.

35. How do you create a package?

Answer:

CREATE OR REPLACE PACKAGE emp_pkg AS
  PROCEDURE add_employee(...);
  FUNCTION get_employee(...);
END emp_pkg;

36. What is the difference between DELETE and TRUNCATE?

Answer: DELETE removes rows one by one and can be rolled back; TRUNCATE removes all rows quickly and cannot be rolled back.

37. How do you optimize SQL queries?

Answer: Use indexes, avoid unnecessary columns, use joins efficiently, analyze execution plans.

38. What is an index?

Answer: An index improves query performance by providing quick access to rows.

39. How do you create an index?

Answer:

CREATE INDEX idx_emp_name ON employees(last_name);

40. What is normalization?

Answer: Process of organizing data to reduce redundancy.

41. What are the normal forms?

Answer: 1NF, 2NF, 3NF, BCNF.

42. How do you write a loop in PL/SQL?

Answer:

FOR i IN 1..10 LOOP
  DBMS_OUTPUT.PUT_LINE(i);
END LOOP;

43. What is a record in PL/SQL?

Answer: A record is a composite data type that can hold multiple fields.

44. How do you declare a record?

Answer:

DECLARE
  TYPE emp_rec_type IS RECORD (
    emp_id NUMBER,
    emp_name VARCHAR2(100)
  );
  emp_rec emp_rec_type;
BEGIN
  -- use emp_rec
END;

45. What is dynamic SQL?

Answer: SQL statements constructed and executed at runtime.

46. How do you execute dynamic SQL?

Answer: Using EXECUTE IMMEDIATE.

EXECUTE IMMEDIATE 'UPDATE employees SET salary = salary * 1.1';

47. What is a bulk collect?

Answer: A PL/SQL feature to fetch multiple rows at once for performance.

48. How do you use bulk collect?

Answer:

DECLARE
  TYPE emp_tab IS TABLE OF employees%ROWTYPE;
  l_emps emp_tab;
BEGIN
  SELECT * BULK COLLECT INTO l_emps FROM employees;
END;

49. What is forall?

Answer: A PL/SQL statement to perform bulk DML operations.

50. How do you use forall?

Answer:

FORALL i IN l_emps.FIRST..l_emps.LAST
  INSERT INTO employees VALUES l_emps(i);

Advanced Oracle SQL and PL/SQL with Performance Tuning

51. What is Explain Plan?

Answer: Explain Plan shows the execution plan of a SQL query to help analyze performance.

52. How do you generate an Explain Plan?

Answer:

EXPLAIN PLAN FOR
SELECT * FROM employees;
SELECT * FROM TABLE(DBMS_XPLAN.DISPLAY());

53. What is a full table scan?

Answer: When Oracle reads all rows in a table because no suitable index is available.

54. How do you avoid full table scans?

Answer: Create appropriate indexes and write selective queries.

55. What is an index range scan?

Answer: Oracle scans a range of index entries to find matching rows.

56. What is a bitmap index?

Answer: An index type efficient for columns with low cardinality.

57. What is bind variable?

Answer: A placeholder in SQL statements to improve performance and reduce parsing.

58. How do bind variables improve performance?

Answer: They allow statement reuse and reduce hard parsing.

59. What is optimizer?

Answer: The Oracle component that determines the most efficient way to execute a query.

60. What are optimizer hints?

Answer: Instructions to the optimizer to influence execution plans.

61. How do you use optimizer hints?

Answer:

SELECT /*+ INDEX(emp emp_idx) */ * FROM employees emp;

62. What is partitioning?

Answer: Dividing a large table into smaller, manageable pieces.

63. How does partitioning improve performance?

Answer: Queries can scan only relevant partitions, reducing I/O.

64. What are the types of partitioning?

Answer: Range, List, Hash, Composite.

65. What is a materialized view log?

Answer: A table that tracks changes for fast refresh of materialized views.

66. What is SQL trace?

Answer: A diagnostic tool to trace SQL execution details.

67. How do you enable SQL trace?

Answer:

ALTER SESSION SET sql_trace = TRUE;

68. What is TKPROF?

Answer: A tool to format SQL trace files for easier analysis.

69. What is the difference between DELETE and DROP?

Answer: DELETE removes rows; DROP removes the entire table.

70. What is a deadlock?

Answer: A situation where two sessions wait indefinitely for resources locked by each other.

71. How do you detect deadlocks?

Answer: Using trace files or views like V$LOCK.

72. What is a lock?

Answer: A mechanism to control concurrent access to data.

73. What is the difference between exclusive and shared locks?

Answer: Exclusive locks prevent others from accessing; shared locks allow concurrent reads.

74. What is the difference between CHAR and NCHAR?

Answer: NCHAR stores Unicode data; CHAR stores non-Unicode.

75. What is the difference between VARCHAR2 and NVARCHAR2?

Answer: NVARCHAR2 stores Unicode data; VARCHAR2 stores non-Unicode.

76. What is the difference between a function and a procedure?

Answer: A function returns a value; a procedure does not.

77. What is the difference between a trigger and a stored procedure?

Answer: A trigger fires automatically on events; a procedure is called explicitly.

78. What is the difference between a view and a materialized view?

Answer: A view is virtual; a materialized view stores data physically.

79. What is the difference between IN and EXISTS?

Answer: EXISTS is generally faster for correlated subqueries.

80. What is a histogram?

Answer: A data distribution statistic used by the optimizer.

81. How do you gather statistics?

Answer:

EXEC DBMS_STATS.GATHER_TABLE_STATS('SCHEMA', 'TABLE_NAME');

82. What is a cursor variable?

Answer: A pointer to a cursor that can be passed between PL/SQL blocks.

83. What is the difference between a static and dynamic cursor?

Answer: Static cursors have fixed queries; dynamic cursors can change at runtime.

84. What is the difference between a local and global temporary table?

Answer: Local temporary tables are session-specific; global temporary tables are visible to all sessions but data is session-specific.

85. What is the difference between a package specification and body?

Answer: Specification declares public elements; body contains implementation.

86. What is the difference between a weak and strong ref cursor?

Answer: Strong ref cursors have a return type; weak ref cursors do not.

87. What is the difference between a synonym and an alias?

Answer: A synonym is a database object; an alias is a temporary name in SQL.

88. What is the difference between a cluster and a table?

Answer: A cluster stores related tables physically together.

89. What is the difference between a sequence and an identity column?

Answer: Sequences are independent objects; identity columns auto-generate values.

90. What is the difference between a materialized view and a snapshot?

Answer: They are synonyms; snapshots are older terminology.

91. What is the difference between a deadlock and a lock wait?

Answer: Deadlock is a cycle of waits; lock wait is waiting for a resource.

92. How do you monitor SQL performance?

Answer: Using tools like AWR reports, SQL Trace, TKPROF, and Enterprise Manager.

PL/SQL Collections

93. What are PL/SQL collections?

Answer: Collections are data structures that hold multiple elements, such as arrays, lists, or tables.

94. What are the types of PL/SQL collections?

Answer: Associative arrays (index-by tables), nested tables, and VARRAYs.

95. What is an associative array?

Answer: A collection indexed by arbitrary keys, typically strings or integers.

96. How do you declare an associative array?

Answer:

DECLARE
  TYPE emp_table_type IS TABLE OF VARCHAR2(100) INDEX BY PLS_INTEGER;
  emp_names emp_table_type;
BEGIN
  emp_names(1) := 'John';
END;

97. What is a nested table?

Answer: A collection that can be stored in the database and can be sparse.

98. How do you declare a nested table?

Answer:

DECLARE
  TYPE emp_table_type IS TABLE OF VARCHAR2(100);
  emp_names emp_table_type := emp_table_type();
BEGIN
  emp_names.EXTEND;
  emp_names(1) := 'John';
END;

99. What is a VARRAY?

Answer: A collection with a fixed maximum size.

100. How do you declare a VARRAY?

Answer:

DECLARE
  TYPE emp_varray_type IS VARRAY(10) OF VARCHAR2(100);
  emp_names emp_varray_type := emp_varray_type();
BEGIN
  emp_names.EXTEND;
  emp_names(1) := 'John';
END;

101. How do you loop through collections?

Answer: Using FOR loops or WHILE loops.

FOR i IN emp_names.FIRST..emp_names.LAST LOOP
  DBMS_OUTPUT.PUT_LINE(emp_names(i));
END LOOP;

102. How do you delete elements from collections?

Answer: Using the DELETE method.

emp_names.DELETE(1);

103. How do you check if a collection is empty?

Answer: Using the COUNT method.

IF emp_names.COUNT = 0 THEN
  DBMS_OUTPUT.PUT_LINE('Collection is empty');
END IF;

104. How do you pass collections to procedures?

Answer: Define collection types in package specifications and use them as parameters.

105. What are some performance considerations with collections?

Answer: Use bulk operations like BULK COLLECT and FORALL to minimize context switches.

106. How do collections improve performance?

Answer: By reducing context switches between SQL and PL/SQL engines.

107. Can collections be stored in database tables?

Answer: Nested tables and VARRAYs can be stored; associative arrays cannot.

108. How do you initialize collections?

Answer: Using constructors like emp_table_type() or emp_varray_type().

109. What is the difference between nested tables and VARRAYs?

Answer: Nested tables can be sparse and have no fixed size; VARRAYs have a fixed maximum size.

110. How do you convert collections to SQL types?

Answer: Use TABLE operator in SQL.

SELECT * FROM TABLE(emp_names);

Additional Advanced Topics

111. What is dynamic PL/SQL?

Answer: PL/SQL code constructed and executed at runtime.

112. How do you handle large objects (LOBs) in PL/SQL?

Answer: Using DBMS_LOB package.

113. What is autonomous transaction?

Answer: A transaction independent of the main transaction.

114. How do you declare an autonomous transaction?

Answer:

PRAGMA AUTONOMOUS_TRANSACTION;

115. What is the difference between synchronous and asynchronous processing?

Answer: Synchronous waits for completion; asynchronous runs independently.

116. What are pipelined table functions?

Answer: Functions that return rows iteratively to improve performance.

117. How do you use collections with pipelined functions?

Answer: Return collections row by row.

118. What is the difference between deterministic and non-deterministic functions?

Answer: Deterministic functions return the same result for the same input.

119. What is the use of the DBMS_JOB and DBMS_SCHEDULER packages?

Answer: For scheduling jobs and tasks.

120. How do you debug PL/SQL code?

Answer: Using DBMS_OUTPUT, SQL Developer debugger, or tracing.

121. What is the difference between implicit and explicit cursors?

Answer: Implicit cursors are managed by Oracle automatically; explicit cursors are programmer-defined.

122. How do you optimize PL/SQL code?

Answer: Use bulk operations, minimize context switches, use proper indexing.

123. What is the difference between a weak and strong ref cursor?

Answer: Strong ref cursors have a return type; weak ref cursors do not.

124. How do you handle exceptions in PL/SQL?

Answer: Using EXCEPTION blocks with predefined or user-defined exceptions.

125. What is the use of %ROWTYPE and %TYPE?

Answer: To declare variables based on table columns or row structures.

126. How do you use collections in bulk processing?

Answer: With BULK COLLECT and FORALL statements.

127. What is the difference between a package and a schema?

Answer: A package is a PL/SQL construct; a schema is a database user and its objects.

128. What is the difference between a synonym and a view?

Answer: A synonym is an alias for an object; a view is a virtual table.

129. How do you handle NULL values in PL/SQL?

Answer: Using NVL, COALESCE, or conditional checks.

130. What is the difference between a local and global temporary table?

Answer: Local temporary tables are session-specific; global temporary tables are visible to all sessions but data is session-specific.

131. What is the use of the DBMS_STATS package?

Answer: To gather optimizer statistics.

132. How do you use the MERGE statement?

Answer: To perform UPSERT operations.

MERGE INTO target_table t
USING source_table s
ON (t.id = s.id)
WHEN MATCHED THEN UPDATE SET t.col = s.col
WHEN NOT MATCHED THEN INSERT (id, col) VALUES (s.id, s.col);

133. What is the difference between a function and a procedure?

Answer: Functions return values and can be used in SQL; procedures do not return values.

134. What is the difference between a trigger and a stored procedure?

Answer: A trigger fires automatically on events; a procedure is called explicitly.

135. What is the difference between a view and a materialized view?

Answer: A view is virtual; a materialized view stores data physically.

136. What is the difference between UNION and UNION ALL?

Answer: UNION removes duplicates; UNION ALL does not.

137. What is the difference between DELETE and TRUNCATE?

Answer: DELETE logs individual row deletions; TRUNCATE is faster and less resource-intensive.

138. What is the difference between IN and EXISTS?

Answer: EXISTS is generally faster for correlated subqueries.

139. How do you improve query performance?

Answer: Use indexes, avoid functions on indexed columns, use bind variables, analyze execution plans.

140. What is a histogram?

Answer: A data distribution statistic used by the optimizer.

141. How do you gather statistics?

Answer:

EXEC DBMS_STATS.GATHER_TABLE_STATS('SCHEMA', 'TABLE_NAME');

142. What is a cursor variable?

Answer: A pointer to a cursor that can be passed between PL/SQL blocks.

143. What is the difference between a static and dynamic cursor?

Answer: Static cursors have fixed queries; dynamic cursors can change at runtime.

144. What is the difference between a local and global temporary table?

Answer: Local temporary tables are session-specific; global temporary tables are visible to all sessions but data is session-specific.

145. What is the difference between a package specification and body?

Answer: Specification declares public elements; body contains implementation.

146. What is the difference between a weak and strong ref cursor?

Answer: Strong ref cursors have a return type; weak ref cursors do not.

147. What is the difference between a synonym and an alias?

Answer: A synonym is a database object; an alias is a temporary name in SQL.

148. What is the difference between a cluster and a table?

Answer: A cluster stores related tables physically together.

149. What is the difference between a sequence and an identity column?

Answer: Sequences are independent objects; identity columns auto-generate values.

150. What is the difference between a materialized view and a snapshot?

Answer: They are synonyms; snapshots are older terminology.


47. What is the difference between RANK() and DENSE_RANK()?

Answer: RANK() leaves gaps in ranking; DENSE_RANK() does not.

48. How do you use analytic functions?

Answer:

SELECT employee_id, salary, RANK() OVER (ORDER BY salary DESC) FROM employees;